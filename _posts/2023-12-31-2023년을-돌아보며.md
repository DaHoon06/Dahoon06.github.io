---
layout: post
title: "23년 마지막 회고"
summary: ""
author: dahoon06
date: "2023-12-31 00:00:00 +0530"
category: development
thumbnail: 
keywords: 회고
permalink: /blog/development/2023-12-retrospect/
usemathjax: true
---

2024년 까지 하루가 남았네요.   
2023년도 4분기 마지막 회고를 해보며 올 한 해 어떤 일이 있었고, 어떤 점이 부족했었는지 돌이켜까 합니다.    
올 한해는 개인적으로도, 개발자로써도 처음 해보는 것도 많고 재미있는 일이 많던 해였습니다.   
그래서 그런지 정말 시간이 빠르게 흐른 것 같아요.    

먼저 개발자로써 어떤 일들이 있었는지 프로젝트 - 성장 - 아쉬운점 으로 분류해보았어요.

> ## 프로젝트

### 1. 유니서베이

먼저 애증의 프로젝트인 **유니서베이** 입니다.   
유니서베이를 담당한지도 벌써 2년이 다 되어가네요. 길게 담당했던 만큼 저의 개발자로써의 정말 많은 성장을 이끌어준 프로젝트입니다. 처음 프로젝트에 투입되었을 때 설렜던 마음이 아직까지도 생생하네요.   

프로젝트에 대해 간단하게 소개드리면 웹 상에서 설문을 만들고 설문 결과 데이터를 받아 볼 수 있는데 설문 제작 플랫폼입니다. (쉽게 생각하면 구글 폼이라고 생각하시면 될 것 같아요.~!) 혼자서 풀 스택 개발을 하며 힘든 일도 정말 많았지만 돌이켜보면 정말 값진 경험들이였네요.

음... 어떤 일을 했는지 막상 정리해보려고 하니까 어떻게 정리해야할지 모르겠지만.. 인상깊게 남아있는 것들 위주로 작성해볼게요.    

먼저 데이터베이스 설계의 중요성입니다. 저는 몽고디비를 사용하고 있고 몽고디비 특성상 모든 데이터를 다 넣을 수 있기 때문에 일단 때려넣고 보자라는 식이였어요. 그러다보니 당연 문제가 발생했습니다. 

하나의 다큐먼트에 모든 데이터 필드가 존재하다 보니 하나의 작은 값을 조회하더라도 많은 리소스를 소모하게 됩니다. 심지어 설문 데이터 특성 상 정말 많은 필드가 쌓이는데 이게 여러 반복까지 돌아가게 된다면 짧게는 2초, 길게는 5초 이상 응답을 받지 못하는 문제가 발생했습니다. 지금 당장 문제를 완벽히 해결하기에는 시간이 부족했어요..ㅠㅠ 다른 일정도 밀려있고 그래서 일단 필요한 필드에 인덱스를 걸고 최소한의 응답 값을 받도록 하였습니다. 

(나중에 안 사실이지만 몽고디비에서의 $in 쿼리는.. 인덱스를 타지 않는다고 하네요. 몇몇 쿼리는 인덱스를 걸어놓고 $match 조건에 $in을 걸어두었는데 아무 의미 없는 행위였네요.)

백엔드에서는 이렇게 일달락하고 프론트에서 필요한 데이터 가공에 사용되는 반복을 최소한으로 줄여서 문제를 해결했었습니다. 이 때 DB를 어떻게 설계하느냐에 따라 조금이나마 불편함을 덜 수 있구나 생각을 했던 것 같아요.

다음은 웹소켓을 사용해본 경험이에요.    

웹 상에서 다중 로그인 시 로그인을 시도한 브라우저를 제외한 나머지 브라우저는 로그아웃을 시켰어야했어요. 당장 드는 생각은 웹소켓으로 로그인 기록의 고유 아이디가 일치하지 않는 기록의 브라우저의 로그인 기간을 만료시키는 방법으로 구현했었습니다. 이 작업을 하면서 웹 소켓에 대한 이해도가 조금이나마 늘었던 것 같아요.

입사 초기에 팀장님이 내주신 과제로 채팅을 만드는 것에 비하면 정말 많이 성장했죠. (구독 /  발행에 대한 개념이 없어 이벤트를 매 등록하여 엔터를 칠 때마다 이벤트가 쌓여 입력한 문구가 계속 중첩되서 보내졌거든요.)

이 작업에서 자신감을 얻어 엑셀 다운로드 기능도 웹 소켓으로 변경했어요. 응답 데이터가 6000 샘플이 넘어가면서부터 다운로드에 조금씩 이상이 생기게 되었습니다. 기존에는 다운로드 제어를 프론트에서 제어하고 있었어요. 다운로드 관련 2 개의 함수를 서로 계속 호출하면서 다운로드가 완료되었는지 확인합니다. (다운로드도 메타서베이 로직을 그대로 사용해서 그래요..) 

그러다보니 데이터가 많아 response time 이 길어지게 되면서 timeout이 발생하더라구요. 이 이슈를 보고 가장 먼저 든 생각은 다운로드 로직을 웹 소켓으로 관리하면 더 이상 클라이언트에서 완료될 때까지 기다릴 필요가 없지 않을까였어요. 다른 방법이 있을 것 같긴한데 쉽게 해결할 수 있는 방향으로가자 해서 길게 생각하지는 않았던 것 같아요. (무엇보다 프로덕션 환경에서 다운로드가 안되는 이슈는 컸으니까요..)

마지막으로 인상 깊었던 것은 에러메세지 규칙에 대한 가이드 였어요.

유니서베이는 GS 인증을 위해 외부에 QA를 맡겼습니다. 물론 이 팀에서 인증을 위한 문서 작업도 도와줬구요. 여기서 정말 이것까지 하나하나 다 맞춰야한다고???? 의심의 눈초리로 보며 관련 레퍼런스를 찾아보는데 가이드가 있더라구요.. 반성했습니다.

[원본](https://developers.google.com/tech-writing/error-messages)

[관련 포스팅](https://dahoon06.github.io/blog/development/error-message-handling#/)

이 밖에도 많은 작업을 한 것 같은데 너무 짜잘구리한것들도 많고 이 이상 길게 쓰면 경력 기술서가 되버리곘죠...?  다음 프로젝트로 넘어갈께요.

### 2. 유니서베이 설문 솔루션 (백엔드 담당)

피앰아이에서 설문 작업을 도와주는 메타서베이라는 설문 제작 솔루션이 있어요. 유니서베이도 이 솔루션을 기반으로 모든 데이터 포맷이 맞춰져있습니다. 작업 당시에는 이미 만들어진 솔루션에 맞춰 작업하면 됨으로 정말 편하게 작업했어요.    

하지만 그 편안함에는 대가가 따랐습니다... 솔루션을 사용하다보니 종종 솔루션의 서버가 과부하가 걸리는 일이 생겼어요. 솔루션이야 어차피 내부에서만 사용하니까 괜찮았는데 유니서베이는 내부용이 아니잖아요? 실제 사용자가 이용하는 환경인데 내부에서 발생한 이슈 때문에 프로덕션에서도 문제가 발생된다는건 큰 문제였어요...    

그래서 어떻게 할까 고민하다가 결국 올 해 말에 유니서베이와 메타서베이를 분리하기로 결정하였습니다. 새로운 설문 화면과 그에 맞는 서버를 재구축하기로 하였어요. 거기서 처음으로 풀 스택이 아닌 백엔드를 담당하여 전반적인 API 개발, DB 설계, 배치 작업을 하였습니다. 하지만 프론트를 완전히 놓을 수 없는 저는 프론트 하시는 분들 옆을 기웃거리며 도와드릴게 있다면 도와드리고 공통으로 사용하면 좋겠다 싶은 것들을 묶어 컴포넌트를 만들어주고 코드를 봐주면서 함께 성장할 수 있는 기회를 만들었습니다.


### 3. 일렉트론을 활용한 오프라인 메타서베이 데스크탑 애플리케이션

피앰아이는 23년도에 베트남 지사를 설립하였습니다. 메타서베이에서 생성되는 설문은 인터넷이 있어야하는 환경입니다. 잘은 모르겠지만 오프라인 설문을 만들어달라고 요청하신 것 보면 베트남은 저희 나라보다 인터넷 환경이 좋지 않은가봐요.   

어쩃든 요구사항은 아래와 같았어요.

- 외부에서 설문 진행 (단, 인터넷이 없는 환경)
- 사용될 설문은 오프라인 전용으로 메타서베이에서 관리되었으면 좋겠음
- 노트북으로 진행될 예정이라 데스크탑 앱이 필요함
- 인터넷 / 오프라인 환경이 구분되어 각기 다른 역할을 해줬으면 함
  - 인터넷: 설문 및 데이터 업데이트
  - 오프라인: 설문 진행 및 설문 데이터 저장

사내에서는 일렉트론을 이미 쓰고 있었기 때문에 데스크탑 앱이라고 해서 고민의 여지없이 일렉트론 작업을 시작했어요. 처음에는 이미 만들어진 솔루션을 일렉트론으로 말아서 앱을 만들면 되겠지 했는데 생각보다 신경써야할 부분들이 많더라구요. 온 / 오프라인 체크, 각 상황에 맞는 기능 오픈 등등.. 부장님의 도움이 없었다면 작업하기에 어려움이 많았던 프로젝트였네요.     

버전 관리를 위해 GitHub에서 제공하고 있는 Package를 사용해보았어요. 버전 별로 파일을 관리할 수 있어서 좋더라구요.

ps+ 저 앱 때문에 저 하노이로 출장 간데요. 근데 그게 언제가 될 지 모른데요...


> ### 사이드 프로젝트

#### 1. 닷투 (A.K.A 너무나 아픈 손가락 또 드랍됨 😭😭😭😭😭😭😭😭😭😭😭😭😭😭😭😭😭😭😭😭)

사실 닷투를 꺼낼까말까 고민을 많이 했어요.. 왜냐면 또 드랍했거든요..    
그래도 닷투도 애증의 프로젝트라고 생각하고있어요. 그래서 마음 한 편으로 이 컨셉이 아니더라도 다른 컨셉으로 해보고 싶은 마음도 있습니다.   

처음 웹으로 개발했던 닷투를 드랍하고 새로 해보자 했을 때 이번엔 모바일 앱으로 해볼까 했었습니다. (이 때 RN에 꽂혀있어요..ㅎㅎㅎ)    

어쨋든 저번과 다른 점이 프론트 뿐만 아니라 디자인과 기획까지 함께 담당했었습니다. 백엔드를 담당하셨던 형이 산출물 작업에 도움을 주셨고, 디자인도 전작인 웹 디자인 + 저의 생각을 한 스픈 얹어서 그려나갔습니다. 디자인 작업물에대해서는 개인적으로 만족해요.

![wireframe]({{site.baseurl}}/assets/img/posts/231231/wireframe.png)

![mobile-design]({{site.baseurl}}/assets/img/posts/231231/design.png)

그 밖에도 요구사항 분석, 유스케이스 작성법 등 완벽한 기획, 디자인 까지는 아니더라도 전반적인 프로세스를 이해하는데 큰 도움이 되었어요.    

하지만 이번 드랍의 가장 큰 이유는 컨셉이 문제였어요. 닷투는 타투이스트와 사용자를 매칭 시켜주는 컨셉이였어요. 하지만 전 세계에서 유일하게 타투가 불법인 나라, 타투에 대한 곱지 않은 시선, 서버 운영 등등 개발을 진행하고 운영 방법을 구체화 할 수록 계속 따라오는 문제였습니다. 현재 저희로써는 어떻게 하는게 좋겠다 라는게 생각이 들지 않더라구요.. 그래서 그냥 좀 더 안전한 방법을 택하였고 닷투 컨셉을 버리기로 했습니다..

지금까지 사이드 프로젝트를 진행하면서 실제 운영까지 이루어진적이 없습니다. 닷투도 배포는 했지만 경험만 해보고 운영까지 이어지지 못했죠.    

그럼에도 불구하고 계속 해서 사이드 프로젝트를 진행하는 이유는 개발자로써 현재에 머무르지 않고 성장하고 싶은 욕심이 컸습니다. 그래서 뭔가 계속 만들었던 거에요. 이 과정에서 회사 업무에도 정말 많은 도움이 되었거든요.     

하지만 이런 방식도 문제가 있어요. 앞서 말한 것처럼 운영을 해 본적이 없으니 트래픽을 경험해 본 적이 별로 없어요. 유니서베이도 사용자는 있지만 트래픽이 확 몰리지는 않거든요. 그래서 컨셉을 간단하면서도 쉽게 접근할 수 있는 컨셉으로 바꿔보았습니다.

#### 2. 몰랑?

그게 바로 몰랑? 입니다. 아이디어는 꼬들이라는 퀴즈 게임에서 가져왔어요. 정말 간단한 한글 퀴즈 게임인데 인기를 끌면서 프리티어로 버틸 수 없는 트래픽을 겪으셨다고 해요. 그래서 저희도 경험해 보고 싶었습니다. 정말 엄청 큰 트래픽까지 바라지도 않습니다. 1 명이 됐던 10 명이 됐던, 사용자가 있는 서비스를 만들어보자가 목표였어요.

처음 시작은 간단한 퀴즈 게임으로 시작이에요. 하루에 한 문제를 풀고 SNS에 자랑할 수 있는 저희만의 시그니처를 담는 거에요. 몰랑과 저희가 관리할 수 있는 어드민 2 개의 사이트를 운영할 계획입니다.

##### 몰랑 미리보기

![mollrang, 몰랑]({{site.baseurl}}/assets/img/posts/231231/mollrang.png)

https://www.mollrang.com/


아직 미완성이지만 배포는 되었습니다. (하지만 아직 만드는 중이에요..ㅠㅠ 배포를 우선 해보았어요.)

완성하면 개발 히스토리도 포스팅해볼 생각이에요~!

##### 어드민 미리보기

![devwiki]({{site.baseurl}}/assets/img/posts/231231/devwiki-admin.png)

데브위키는 저희 팀 명이에요. 몰랑을 베이스로 조금씩 기능 붙여보자해서 몰랑에 한정짓지 않고 팀 어드민으로 만들어보았습니다.    

간단한 로그 및 저희 프로덕션을 관리할 수 있는 어드민을 만들고 추가적으로 될지 모르겠지만 모니터링도 붙여볼까 합니다. 안된다면 뭐 어드민은 어드민대로 모니터링은 모니터링대로 따로 관리해야할 것 같아요.

> ## 성장

업무와 사이드 프로젝트를 병행하면서 많은 성장이 있었던 것 같아요.

> ## 아쉬운점

![github-commit]({{site.baseurl}}/assets/img/posts/231231/commit.png)

#### 1. 1 일 1 커밋

1 일 1 커밋이라는 야심찬 목표는 끝나버렸습니다. 그래도 하반기까지 잘 지켜지면서 잔디 관리에 욕심을 냈어요. 커밋을 하지 못하는 날에는 해당 날짜에 커밋을 할 수 있도록 미리 내용을 정리해두고 커밋을 하면서 관리를 했었는데 이게 의미가 있는걸까? 라는 생각이 들더라구요.. 그 절정은 오래됬거나 쓰지 않는 레포지토리를 삭제하면서 빽빽했던 잔디에 구멍이 생기기 시작하더라구요. 그런 자리에는 어쨋든 작업을 했던 날이였고 레포지토리 삭제로 인한 구멍이니 괜찮겠지 하며 거짓커밋으로 메궜는데 이게 뭐하는 짓인가 했어요..ㅎㅎ 그래서 그냥 놔버렸네요.   

그래도 꾸준히 뭔가하면서 노력했다는 점은 변하지 않으니 저는 만족합니다. 정말 열심히 했다고 생각하거든요.    

여기서 다음 아쉬운 점이 바로 나옵니다.

#### 2. 그래서 뭐? 어떤 걸 했는데?

글쎼요.. 23년에 뭘 어떤걸 공부했을까요.

React, Nextjs 는 지금까지도 계속 공부의 끈을 놓지 않고 있고, 업무에서 사용하는 Nestjs와 Vue 3도 나름 능숙하게 다룰 줄 안다고 생각해요.

하지만 이들을 설명하라고 하면 할 수 있을까요? 대답은 아니요에요. 지금까지 실무 위주로 개발을 해왔어요. 그러다보니 원론적으로 들어가면 저는 설명하지 못합니다. 마음은 해야지 해야지 하지만.. 제가 게으른 탓도 있겠지만 너무 쉽지 않네요.

그 밖에도 ReactNative, flutter 맛보기, AWS & Docker 사용해보기 하지만 이거에 맞는 결과물이 없네요.. 

#### 3. 개발 서적 읽기

제가 생각했던 코드를 작성해나는 것이 너무 재미있었어요. 그러다보니 개발 서적 읽기와 멀어진 것 같아요. 밀린 책이 너무나도 많답니다.

- 모던 자바스크립트 재회독
- HTTP 완벽 가이드
- 함수형 프로그래밍
- 디자인 관련 서적
(위에꺼 다 읽으면 사야지하고 봐둔게 있는데 캡쳐해둔 이미지를 찾지 못했어요. 지우진 않았으니까 핸드폰에 있겠죠.)

2024년도에는 다 읽을 수 있겠죠?

#### 4. NPM 만들기

회사에서 개인적으로 해보고 싶었던 일입니다. 저희 개발팀에는 퍼블리싱이 따로 없기 때문에 직접 CSS를 작업해 개발하고 있어요. 그래서 bootstrap, vutify 등과 같은 CSS 프레임워크의 도움을 받고 있습니다. 이때까지만 해도 사내에 웹 디자이너분이 안계셨어요.   

하지만 웹 디자이너가 생기고부터는 피그마를 통해 디자인을 공유 받는데 이런 CSS 프레임워크로 전달받은 디자인대로 작업하는데는 어려움이 있었습니다. 그래서 그 디자인을 토대로 개발부 만의 CSS 프레임워크를 만들어보고 싶었어요.    

button, input을 시작을 해볼까 했었습니다. 피앰아이 개발부의 npm을 만들고 그 npm을 사용하면 제가 만든 컴포넌트를 사용하는 것이죠. 컴포넌트 개발까지는 했지만 npm 으로 만들어보지 못한게 아쉽네요. 